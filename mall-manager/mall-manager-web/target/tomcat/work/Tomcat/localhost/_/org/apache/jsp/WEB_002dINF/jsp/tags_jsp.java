/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2019-11-26 01:38:23 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class tags_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("\n");
      out.write("<html>\n");
      out.write("\t<head>\r\n");
      out.write("\t\t<meta name=\"renderer\" content=\"webkit\">\r\n");
      out.write("\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n");
      out.write("\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0\">\r\n");
      out.write("\t\t<link rel=\"stylesheet\" href=\"/layuiadmin/layui/css/layui.css\" media=\"all\">\r\n");
      out.write("\t\t<link rel=\"stylesheet\" href=\"/layuiadmin/style/admin.css\" media=\"all\">\r\n");
      out.write("\t\t<script src=\"../layuiadmin/dtree.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\n");
      out.write("\t\t<meta charset=\"utf-8\">\n");
      out.write("\t\t<title></title>\n");
      out.write("\t</head>\n");
      out.write("\t<body>\r\n");
      out.write("\t\t<div class=\"layui-fluid\">\r\n");
      out.write("\t\t    <div class=\"layui-row layui-col-space15\">\r\n");
      out.write("\t\t        <!-- 左树 -->\r\n");
      out.write("\t\t        <div class=\"layui-col-sm12 layui-col-md4 layui-col-lg3\">\r\n");
      out.write("\t\t            <div class=\"layui-card\">\r\n");
      out.write("\t\t                <div class=\"layui-card-body mini-bar\" id=\"ltTree\">\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t                </div>\r\n");
      out.write("\t\t            </div>\r\n");
      out.write("\t\t        </div>\r\n");
      out.write("\t\t        <!-- 右表 -->\r\n");
      out.write("\t\t        <div class=\"layui-col-sm12 layui-col-md8 layui-col-lg9\">\r\n");
      out.write("\t\t            <div class=\"layui-card\">\r\n");
      out.write("\t\t                <div class=\"layui-card-body\">\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t                    <div class=\"layui-form toolbar\">\r\n");
      out.write("\t\t                        <div class=\"layui-form-item\">\r\n");
      out.write("\t\t                            <div class=\"layui-inline\">\r\n");
      out.write("\t\t                                <label class=\"layui-form-label w-auto\">搜索：</label>\r\n");
      out.write("\t\t                                <div class=\"layui-input-inline mr0\">\r\n");
      out.write("\t\t                                    <input id=\"edtSearch\" class=\"layui-input\" type=\"text\" placeholder=\"输入关键字\"/>\r\n");
      out.write("\t\t                                </div>\r\n");
      out.write("\t\t                            </div>\r\n");
      out.write("\t\t                            <div class=\"layui-inline\" >\r\n");
      out.write("\t\t                                <button class=\"layui-btn icon-btn\" id=\"btnSearchByCode\">\r\n");
      out.write("\t\t                                    <i class=\"layui-icon\">&#xe615;</i>字典编码搜索\r\n");
      out.write("\t\t                                </button>\r\n");
      out.write("\t\t                                <button class=\"layui-btn icon-btn\" id=\"btnSearchByName\">\r\n");
      out.write("\t\t                                    <i class=\"layui-icon\">&#xe615;</i>字典值搜索\r\n");
      out.write("\t\t                                </button>\r\n");
      out.write("\t\t                            </div>\r\n");
      out.write("\t\t                            <div class=\"layui-inline\">\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t                               <button id=\"btnAdd\" class=\"layui-btn icon-btn\"  >\r\n");
      out.write("\t\t                                    <i class=\"layui-icon\">&#xe654;</i>新增\r\n");
      out.write("\t\t                                </button>\r\n");
      out.write("\t\t                                <button id=\"btnDel\" class=\"layui-btn layui-btn-danger icon-btn\"  >\r\n");
      out.write("\t\t                                    <i class=\"layui-icon\">&#xe640;</i>删除\r\n");
      out.write("\t\t                                </button>\r\n");
      out.write("\t\t                            </div>\r\n");
      out.write("\t\t                        </div>\r\n");
      out.write("\t\t                    </div>\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t                    <table class=\"layui-table\" id=\"rtTable\" lay-filter=\"rtTable\"></table>\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t                </div>\r\n");
      out.write("\t\t            </div>\r\n");
      out.write("\t\t        </div>\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t    </div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</body>\r\n");
      out.write("\t<script src=\"layui/layui.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n");
      out.write("\t<script>\r\n");
      out.write("\t\r\n");
      out.write("\t    layui.extend({\r\n");
      out.write("\t    \tdtree: '../layuiadmin/dtree'\r\n");
      out.write("\t    }).use(['layer', 'form', 'table', 'util', 'dtree'], function () {\r\n");
      out.write("\t        var $ = layui.jquery;\r\n");
      out.write("\t        var layer = layui.layer;\r\n");
      out.write("\t        var form = layui.form;\r\n");
      out.write("\t        var table = layui.table;\r\n");
      out.write("\t        var util = layui.util;\r\n");
      out.write("\t        var dtree = layui.dtree;\r\n");
      out.write("\t        var admin = layui.admin;\r\n");
      out.write("\t        // 渲染表格\r\n");
      out.write("\t        var ins1 = function (pid,cloumn,Keyword){\r\n");
      out.write("\t           table.render({\r\n");
      out.write("\t               elem: '#rtTable',\r\n");
      out.write("\t               url: 'Item/tbItem',\r\n");
      out.write("\t               page: true,\r\n");
      out.write("\t               cellMinWidth: 100,\r\n");
      out.write("\t               cols: [[\r\n");
      out.write("\t                   {type: 'checkbox'},\r\n");
      out.write("\t                   {field: 'dictCode', align: 'center', sort: true, title: '字典编码'},\r\n");
      out.write("\t                   {field: 'dictName', align: 'center', sort: true, title: '字典值'},\r\n");
      out.write("\t                   {field: 'dictOrder', align: 'center', sort: true, title: '字典序列'},\r\n");
      out.write("\t                   {field: 'dictDescription', align: 'center', sort: true, title: '字典备注'},\r\n");
      out.write("\t                   {align: 'center', align: 'center', toolbar: '#user-table-bar', title: '操作', minWidth: 120}\r\n");
      out.write("\t               ]],\r\n");
      out.write("\t               where: {nodeId: pid,Keyword:Keyword,cloumn:cloumn}\r\n");
      out.write("\t           });\r\n");
      out.write("\t        }\r\n");
      out.write("\t        // 监听工具条\r\n");
      out.write("\t        table.on('tool(rtTable)', function (obj) {\r\n");
      out.write("\t            var data = obj.data; //获得当前行数据\r\n");
      out.write("\t            var layEvent = obj.event; //获得 lay-event 对应的值\r\n");
      out.write("\t\r\n");
      out.write("\t            if (layEvent === 'edit') { // 查看\r\n");
      out.write("\t               showEditModel(data);\r\n");
      out.write("\t                //layer.msg('点击了修改');\r\n");
      out.write("\t            } else if (layEvent === 'del') { // 删除\r\n");
      out.write("\t                var deleteData = new Array();\r\n");
      out.write("\t                deleteData.push(data.dictId);\r\n");
      out.write("\t                deleteDictionary(deleteData);\r\n");
      out.write("\t            }\r\n");
      out.write("\t        });\r\n");
      out.write("\t        \r\n");
      out.write("\t        // 增加\r\n");
      out.write("\t        $('#btnAdd').click(function () {\r\n");
      out.write("\t           var param = dtree.getNowParam(dictTree);\r\n");
      out.write("\t            if (param.context) {\r\n");
      out.write("\t               admin.putTempData('selectdictionaryId', param.nodeId);\r\n");
      out.write("\t            } else {\r\n");
      out.write("\t               layer.msg('请选择一个节点', {icon: 2});\r\n");
      out.write("\t            }\r\n");
      out.write("\t            showEditModel();\r\n");
      out.write("\t        });\r\n");
      out.write("\t        // 批量删除\r\n");
      out.write("\t        $('#btnDel').click(function () {\r\n");
      out.write("\t            var checkRows = table.checkStatus('rtTable');\r\n");
      out.write("\t            if (checkRows.data.length == 0) {\r\n");
      out.write("\t                layer.msg('请选择要删除的数据', {icon: 2});\r\n");
      out.write("\t            } else {\r\n");
      out.write("\t                var deletedata = [];\r\n");
      out.write("\t                for(var i=0;i<checkRows.data.length;i++){\r\n");
      out.write("\t                   deletedata.push(checkRows.data[i].dictId);\r\n");
      out.write("\t                }\r\n");
      out.write("\t                deleteDictionary(deletedata);\r\n");
      out.write("\t            }\r\n");
      out.write("\t        });\r\n");
      out.write("\t\r\n");
      out.write("\t        // 搜索按钮点击事件\r\n");
      out.write("\t        $('#btnSearchByCode').click(function () {\r\n");
      out.write("\t            var value = $('#edtSearch').val();\r\n");
      out.write("\t            ins1(\"\",\"dict_code\",value);\r\n");
      out.write("\t        });\r\n");
      out.write("\t     // 搜索按钮点击事件\r\n");
      out.write("\t        $('#btnSearchByName').click(function () {\r\n");
      out.write("\t            var value = $('#edtSearch').val();\r\n");
      out.write("\t            ins1(\"\",\"dict_name\",value);\r\n");
      out.write("\t        });\r\n");
      out.write("\t        \r\n");
      out.write("\t        \r\n");
      out.write("\t        // 树形渲染\r\n");
      out.write("\t        var dictTree = dtree.render({\r\n");
      out.write("\t            elem: '#ltTree',\r\n");
      out.write("\t            url: 'http://localhost:8080/test/list/0',\r\n");
      out.write("\t           // type: 'all',\r\n");
      out.write("\t            initLevel: '1',//默认展开层级，当该值大于level时，则会展开树的节点，直到不大于当前待展开节点的level\r\n");
      out.write("\t            //dot: false,\r\n");
      out.write("\t            method: 'GET',\r\n");
      out.write("\t            //request:{parentId:\"0\"}//自定义参数，组件进行参数拼接时，会将该属性的串拼接到url,然后传递到后台进行数据查询\r\n");
      out.write("\t        });\r\n");
      out.write("\t        // 树形点击事件\r\n");
      out.write("\t        dtree.on('node(\"ltTree\")', function (obj) {\r\n");
      out.write("\t            var data = obj.data;\r\n");
      out.write("\t            \r\n");
      out.write("\t            //layer.msg('你选择了：' + data.nodeId + '-' + data.context);\r\n");
      out.write("\t            //table.reload('rtTable', {where: {nodeId: data.nodeId}});\r\n");
      out.write("\t            ins1(data.parentId,\"\",\"\");\r\n");
      out.write("\t        });\r\n");
      out.write("\t        \r\n");
      out.write("\t        \r\n");
      out.write("\t     // 显示表单弹窗\r\n");
      out.write("\t        function showEditModel(data) {\r\n");
      out.write("\t            admin.putTempData('dictionaryEditData', data);\r\n");
      out.write("\t            admin.putTempData('formOk', false);\r\n");
      out.write("\t            top.layui.admin.open({\r\n");
      out.write("\t                type: 2,\r\n");
      out.write("\t                title: data ? '修改字典' : '添加字典',\r\n");
      out.write("\t                area: ['480px', '492px'],\r\n");
      out.write("\t                content: '/dictionary/editForm',\r\n");
      out.write("\t                end: function () {\r\n");
      out.write("\t                    admin.getTempData('formOk') && table.reload('rtTable') // 成功刷新表格\r\n");
      out.write("\t                    if(admin.getTempData('formOk')){\r\n");
      out.write("\t                       dictTree.menubarMethod().refreshTree();\r\n");
      out.write("\t                    }\r\n");
      out.write("\t                    \r\n");
      out.write("\t                }\r\n");
      out.write("\t            });\r\n");
      out.write("\t        }\r\n");
      out.write("\t     \r\n");
      out.write("\t     \r\n");
      out.write("\t     function deleteDictionary(data){\r\n");
      out.write("\t        var postdata = {\"Ids\":data};\r\n");
      out.write("\t        if(data.constructor==Array||data instanceof Array){\r\n");
      out.write("\t           $.post(\r\n");
      out.write("\t                   \"delete\",\r\n");
      out.write("\t                   postdata,\r\n");
      out.write("\t                   function(result){\r\n");
      out.write("\t                      if (result.code == 200) {\r\n");
      out.write("\t                            top.layer.msg(result.msg, {icon: 1});\r\n");
      out.write("\t                            table.reload('rtTable')&&dictTree.menubarMethod().refreshTree();\r\n");
      out.write("\t                        } else {\r\n");
      out.write("\t                            top.layer.msg(result.msg, {icon: 2});\r\n");
      out.write("\t                        }\r\n");
      out.write("\t                   },\"json\"\r\n");
      out.write("\t                 );\r\n");
      out.write("\t        }\r\n");
      out.write("\t     }\r\n");
      out.write("\t     \r\n");
      out.write("\t        \r\n");
      out.write("\t    });\r\n");
      out.write("\t    \r\n");
      out.write("\t    \r\n");
      out.write("\t</script>\r\n");
      out.write("</html>\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
