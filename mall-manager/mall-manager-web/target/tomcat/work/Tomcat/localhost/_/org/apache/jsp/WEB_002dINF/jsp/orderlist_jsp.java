/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2019-12-08 13:23:24 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.*;

public final class orderlist_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html>\n");
      out.write("<head>\n");
      out.write("<meta charset=\"utf-8\">\n");
      out.write("<title>layui</title>\n");
      out.write("<meta name=\"renderer\" content=\"webkit\">\n");
      out.write("<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n");
      out.write("<meta name=\"viewport\"\n");
      out.write("\tcontent=\"width=device-width, initial-scale=1, maximum-scale=1\">\n");
      out.write("<link rel=\"stylesheet\" href=\"../layuiadmin/layui/css/layui.css\">\r\n");
      out.write("<script src=\"../layui/js/jquery.js\"></script>\n");
      out.write("<script type=\"text/javascript\" src=\"../layui/layui.js\"></script>\r\n");
      out.write("<script src=\"../layui/js/IP.js\"></script>\n");
      out.write("<style>\r\n");
      out.write("\t.layui-table-cell{\r\n");
      out.write("\t    height:50px;\r\n");
      out.write("\t    line-height: 50px;\r\n");
      out.write("\t}\r\n");
      out.write("</style>\n");
      out.write("</head>\n");
      out.write("<body>\r\n");
      out.write("\t<div class=\"layui-fluid\">\r\n");
      out.write("\t\t  <div class=\"layui-card\">\r\n");
      out.write("<form class=\"layui-form\">\r\n");
      out.write("<div class=\"layui-form-item\" style=\"margin:15px;height:30px; padding-top:30px ;\" >\r\n");
      out.write("\t    \t<div style=\"height:40px;width:80px;float:left;line-height:40px;\">订单编号</div>\r\n");
      out.write("\t        <input type=\"text\" class=\"layui-input\" style=\"width:200px;float:left;\" id=\"title\" name=\"title\" value=\"\" lay-verify=\"\" placeholder=\"请输入订单编号\" autocomplete=\"off\">\r\n");
      out.write("\t\t    <div class=\"layui-input-inline\" style=\"width:150px;text-align:center;\" id=\"btn\">\r\n");
      out.write("\t\t       <button class=\"layui-btn but_  layui-btn layui-btn-normal \" data-type=\"reload\"  onclick=\"return false;\"  id=\"btn1\">搜索</button>\r\n");
      out.write("\t\t    </div> \n");
      out.write(" \n");
      out.write("</div>\n");
      out.write("</form>\n");
      out.write("<div>\n");
      out.write("    <table id=\"orders\" lay-filter=\"orders\"></table>\n");
      out.write("</div>\r\n");
      out.write("\t\r\n");
      out.write("<!-- 查看商品信息 -->\n");
      out.write(" <div id=\"formData\" style=\"display:none;width:750px;padding-top:10px;\">\n");
      out.write("\t<form id=\"orderForm\" class=\"layui-form\">\r\n");
      out.write("\t\t<div class=\"layui-form-item\">\r\n");
      out.write("\t\t\t    <label class=\"layui-form-label\">订单编号</label>\r\n");
      out.write("\t\t\t    <div class=\"layui-input-block\">\r\n");
      out.write("\t\t\t      <input type=\"text\" name=\"orderId\" id=\"orderId\" style='background-color:#F8F8F8;' readonly=\"readonly\" required lay-verify=\"required\" value=\"\" class=\"layui-input\" />\r\n");
      out.write("\t\t\t    </div>\t\t\t    \r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"layui-form-item\">\r\n");
      out.write("\t\t\t    <label class=\"layui-form-label\">订单总价/分</label>\r\n");
      out.write("\t\t\t    <div class=\"layui-input-block\">\r\n");
      out.write("\t\t\t      <input type=\"text\" name=\"payment\" id=\"payment\" required lay-verify=\"required\" value=\"\" class=\"layui-input\" />\r\n");
      out.write("\t\t\t    </div>\t\t\t    \r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t<!-- \t <div class=\"layui-form-item\">\r\n");
      out.write("\t\t\t    <label class=\"layui-form-label\">订单地址</label>\r\n");
      out.write("\t\t\t    <div class=\"layui-input-block\">\r\n");
      out.write("\t\t\t      <input type=\"text\" name=\"orderAddress\" id=\"orderAddress\" required lay-verify=\"required\" value=\"\" class=\"layui-input\" />\r\n");
      out.write("\t\t\t    </div>\t\t\t    \r\n");
      out.write("\t\t</div> -->\r\n");
      out.write("\t\t<div class=\"layui-form-item\">\r\n");
      out.write("\t\t\t <label class=\"layui-form-label\">收货地址</label>\r\n");
      out.write("\r\n");
      out.write("\t\t\t<div class=\"layui-input-inline\" style=\"width: 130px;\">\r\n");
      out.write("\t\t\t\t <input type=\"text\" name=\"receiverState\" id=\"receiverState\" required lay-verify=\"required\" value=\"\" class=\"layui-input\" /> \r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t<div class=\"layui-input-inline\" style=\"width: 130px;\">\r\n");
      out.write("\t\t\t <input type=\"text\" name=\"receiverCity\" id=\"receiverCity\" required lay-verify=\"required\" value=\"\" class=\"layui-input\" /> \r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\t<div class=\"layui-input-inline\" style=\"width: 130px;\">\r\n");
      out.write("\t\t\t <input type=\"text\" name=\"receiverDistrict\" id=\"receiverDistrict\" required lay-verify=\"required\" value=\"\" class=\"layui-input\" /> \r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t<div class=\"layui-input-inline\" style=\"width: 209px;\">\r\n");
      out.write("\t\t\t <input type=\"text\" name=\"receiverAddress\" id=\"orderAddress\" required lay-verify=\"required\" value=\"\" class=\"layui-input\" /> \r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\r\n");
      out.write("\t\t<div class=\"layui-form-item\">\r\n");
      out.write("\t\t\t    <label class=\"layui-form-label\">收货人</label>\r\n");
      out.write("\t\t\t    <div class=\"layui-input-block\">\r\n");
      out.write("\t\t\t      <input type=\"text\" name=\"receiverName\" id=\"receiverName\" required lay-verify=\"required\" value=\"\" class=\"layui-input\" />\r\n");
      out.write("\t\t\t    </div>\t\t\t    \r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"layui-form-item\">\r\n");
      out.write("\t\t\t    <label class=\"layui-form-label\">收货电话</label>\r\n");
      out.write("\t\t\t    <div class=\"layui-input-block\">\r\n");
      out.write("\t\t\t      <input type=\"text\" name=\"receiverPhone\" id=\"receiverPhone\" required lay-verify=\"required\" value=\"\" class=\"layui-input\" />\r\n");
      out.write("\t\t\t    </div>\t\t\t    \r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</form>\n");
      out.write("</div> \r\n");
      out.write("</div> \r\n");
      out.write("</div> \n");
      out.write("<script type=\"text/html\" id=\"bar\">\r\n");
      out.write("    <a class=\"layui-btn layui-btn-xs layui-bg-orange\" title=\"查看\" lay-event=\"show\">查看</a>\r\n");
      out.write("    <a class=\"layui-btn layui-btn-xs layui-btn-normal\" title=\"编辑\" lay-event=\"edit\">编辑</a>\r\n");
      out.write("    <a class=\"layui-btn layui-btn-xs layui-btn-danger\" title=\"刪除\" lay-event=\"delete\">刪除</a>\n");
      out.write("</script>\n");
      out.write("<script type=\"text/html\" id=\"dateTpl\">\n");
      out.write("    {{ layui.laytpl.fn(d.editdate) }}\n");
      out.write("</script>\r\n");
      out.write("\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("\t\r\n");
      out.write("\tvar table;\n");
      out.write("\tvar layer;\n");
      out.write("\tvar form;\n");
      out.write("\tvar upload;\n");
      out.write("\tvar laydate;\n");
      out.write("\tvar element;\n");
      out.write("        layui.use(['layer', 'table','form','upload','laydate','element'], function ()\n");
      out.write("        {\n");
      out.write("            table = layui.table;\n");
      out.write("            layer = layui.layer;\n");
      out.write("            form =layui.form;\n");
      out.write("            upload=layui.upload;\n");
      out.write("            laydate=layui.laydate;\n");
      out.write("            element=layui.element;\n");
      out.write("            layui.laytpl.fn = function (value)\n");
      out.write("            {\n");
      out.write("                //json日期格式转换为正常格式\n");
      out.write("                var date = new Date(parseInt(value.replace(\"/Date(\", \"\").replace(\")/\", \"\"), 10));\n");
      out.write("                var month = date.getMonth() + 1 < 10 ? \"0\" + (date.getMonth() + 1) : date.getMonth() + 1;\n");
      out.write("                var day = date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate();\n");
      out.write("                return date.getFullYear() + \"-\" + month + \"-\" + day;\n");
      out.write("            }\n");
      out.write("            var start=laydate.render({\n");
      out.write("                elem: '#startDate', //指定元素\n");
      out.write("                type: 'date',\n");
      out.write("                max: 'date',\n");
      out.write("                btns:['clear','confirm'],\n");
      out.write("                done:function(value,date){\n");
      out.write("                \tendMax=end.config.max;\n");
      out.write("                \tend.config.min=date;\n");
      out.write("                \tend.config.min.month=date.month-1;\n");
      out.write("                }\n");
      out.write("              });\n");
      out.write("            var end=laydate.render({\n");
      out.write("                elem: '#endDate', //指定元素\n");
      out.write("                type:'date',\n");
      out.write("                max:'date',\n");
      out.write("                done:function(value,date){\n");
      out.write("                \tif($.trim(value)==''){\n");
      out.write("                \t\tvar curDate=new Date();\n");
      out.write("                \t\tdate={'date':curDate.getDate(),'month':curDate.getMonth()+1,'year':curDate.getFullYear()};\n");
      out.write("                \t}\n");
      out.write("                \tstart.config.max=date;\n");
      out.write("                \tstart.config.max.month=date.month-1;\n");
      out.write("                }\n");
      out.write("              });\n");
      out.write("            //--------------方法渲染TABLE----------------\n");
      out.write("            var tableIns = table.render({\n");
      out.write("                elem: '#orders'\n");
      out.write("                , id: 'orders'\n");
      out.write("                , url: 'http://'+OrderIp()+':8894/order/getOrder'\n");
      out.write("                , cols: [[\n");
      out.write("                     { field: 'orderId', title: '订单编号', width: 100, align: 'center',style:'color:#FF5722; font-size:15px;' }\r\n");
      out.write("\t\t\t\t\t ,{field:'status', title: '订单状态', width: 102, align: 'center',templet: function(d){\r\n");
      out.write("\t\t\t\t\t       if(d.status==1){\r\n");
      out.write("\t\t\t\t\t\t\t\treturn \"<span class='layui-badge'>未付款</span>\";\r\n");
      out.write("\t\t\t\t\t       }else if(d.status==2){\r\n");
      out.write("\t\t\t\t\t\t\t\treturn \"<span class='layui-badge layui-bg-blue'>已付款</span>\";\r\n");
      out.write("\t\t\t\t\t       }else if(d.status==3){\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\treturn \"<span class='layui-badge layui-bg-cyan'>待发货</span>\";\r\n");
      out.write("\t\t\t\t\t       }else if(d.status==4){\r\n");
      out.write("\t\t\t\t\t\t\t\treturn \"<span class='layui-badge layui-bg-green'>已发货</span>\";\r\n");
      out.write("\t\t\t\t\t \t\t}else if(d.status==5){\r\n");
      out.write("\t\t\t\t\t \t\t\treturn \"<span class=’layui-badge layui-bg-red'>交易成功</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t}else if(d.status==6){\r\n");
      out.write("\t\t\t\t\t \t\t\treturn \"<span class='layui-badge layui-bg-orange'>交易关闭</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t}else if(d.status==7){\r\n");
      out.write("\t\t\t\t\t\t\t\treturn \"<span class='layui-badge layui-bg-cyan'>待退款</span>\";\r\n");
      out.write("\t\t\t\t\t       }else{\r\n");
      out.write("\t\t\t\t\t       \treturn \"完成\";\r\n");
      out.write("\t\t\t\t\t       }\r\n");
      out.write("\t\t\t\t\t  \t}\r\n");
      out.write("\t\t\t\t\t }\n");
      out.write("                     , { field: 'userId', title: '下单用户', width: 100, align: 'center',style:'color:#5FB878; font-size:15px;'/* ,templet:function(d){\n");
      out.write("                    \t return d.orderUser.userName\n");
      out.write("                     \t} */\n");
      out.write("                     }\n");
      out.write("                    , { field: 'createTime', title: '下单日期', width: 180,style:'color:#393D49; font-size:14px;', align: 'center',\r\n");
      out.write("\t\t\t\t\ttemplet: \"<div>{{layui.util.toDateString(d.createTime, 'yyyy-MM-dd HH:mm:ss')}}</div>\" }\r\n");
      out.write("                    , { field: 'payment', title: '订单总价', width: 130, align: 'center' , style:'color:red; font-size:15px;',templet:function(d){\r\n");
      out.write("\t\t\t\t\t\tvar payment=d.payment/100+'元';\r\n");
      out.write("\t\t\t\t\t\treturn payment;\r\n");
      out.write("\t\t\t\t\t}}\n");
      out.write("                   \r\n");
      out.write("\t\t\t\t  , { field: 'createTime', title: '下单时间',style:'color:#393D49; font-size:14px;', width: 180, align: 'center',\r\n");
      out.write("\t\t\t\t  templet: \"<div>{{layui.util.toDateString(d.createTime, 'yyyy-MM-dd HH:mm:ss')}}</div>\" }\r\n");
      out.write("\t\t\t\t   , { field: 'shippingName', title: '物流名称',style:'color:#393D49; font-size:15px;', width: 120, align: 'center' ,templet:function(d){\r\n");
      out.write("\t\t\t\t\t   if(d.status==4){\r\n");
      out.write("\t\t\t\t\t\t   return \"<p class=’layui-badge style='color:#01AAED;  '>\"+d.shippingName+\"</p>\";\r\n");
      out.write("\t\t\t\t\t   }else if(d.status==3||d.status==2||d.status==1)  {\r\n");
      out.write("\t\t\t\t\t\t  return \"等待\"; \r\n");
      out.write("\t\t\t\t\t  }else if(d.status==6)  {\r\n");
      out.write("\t\t\t\t\t\t\t  return \"<p style='color:#FF5722;'>交易已关闭</p>\"; \r\n");
      out.write("\t\t\t\t\t  \r\n");
      out.write("\t\t\t\t\t   }else if(d.status==7)  {\r\n");
      out.write("\t\t\t\t\t\t  return \"<p style='color:blue;'>正在处理退款</p>\"; \r\n");
      out.write("\t\t\t\t\t   }else if(d.status==5)  {\r\n");
      out.write("\t\t\t\t\t\t\t  return \"<p class=’layui-badge style='color:#009688;  '>交易成功</p>\"; \r\n");
      out.write("\t\t\t\t\t  \r\n");
      out.write("\t\t\t\t\t   }\r\n");
      out.write("\t\t\t\t   } }\r\n");
      out.write("\t\t\t\t   , { field: 'shippingCode', title: '快递单号', width: 120, style:'color:#2F4056; font-size:16px;', align: 'center',templet: function(d){\r\n");
      out.write("\t\t\t\t\t  if(d.status==1){\r\n");
      out.write("\t\t\t\t\t\t  return \"等待付款\";\r\n");
      out.write("\t\t\t\t\t  }else if(d.status==3||d.status==2){\r\n");
      out.write("\t\t\t\t\t\t  return \"<button onclick='deliverOrder(\\\"\"+d.orderId+\"\\\")' class='layui-btn layui-btn-sm layui-btn-fluid layui-bg-blue layui-btn-warm'>发货</button>\";\r\n");
      out.write("\t\t\t\t\t  }else if(d.status==4){\r\n");
      out.write("\t\t\t\t\t\t  return d.shippingCode;\r\n");
      out.write("\t\t\t\t\t  }else if(d.status==6){\r\n");
      out.write("\t\t\t\t\t\t return \"<p style='color:#1E9FFF;'>交易关闭</p>\"; \r\n");
      out.write("\t\t\t\t\t  }else if(d.status==7){\r\n");
      out.write("\t\t\t\t\t\t  return \"<p style='color:blue;'>正在处理退款</p>\"; \r\n");
      out.write("\t\t\t\t\t  }else{\r\n");
      out.write("\t\t\t\t\t\t  return d.shippingCode;\r\n");
      out.write("\t\t\t\t\t  }\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t\t  ,{ field: 'buyerNick', title: '买家昵称', width: 120, align: 'center',style:'color:#393D49; font-size:14px;'}\r\n");
      out.write("\t\t\t\t  , { field: 'buyerRate', title: '是否评价', width: 120, align: 'center',templet:function(d){\r\n");
      out.write("\t\t\t\t\t  if(d.buyerRate==1){\r\n");
      out.write("\t\t\t\t\t\t  return \"<p style='color:#FFB800'>已评价<p>\";\r\n");
      out.write("\t\t\t\t\t  }else{\r\n");
      out.write("\t\t\t\t\t\t  return \"<p style='color:#FF5722'>待评价<p>\";\r\n");
      out.write("\t\t\t\t\t  }\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t  }\r\n");
      out.write("\t\t\t\t  , {title: '操作', fixed: 'right', width: 190, align: 'center', toolbar: '#bar'}\n");
      out.write("                ]]\n");
      out.write("                , page: true\n");
      out.write("                , limits: [5, 10, 15]\n");
      out.write("                , limit: 10 //默认采用10\n");
      out.write("                , done: function (res, curr, count)\n");
      out.write("                {\n");
      out.write("                    //如果是异步请求数据方式，res即为你接口返回的信息。\n");
      out.write("                    //如果是直接赋值的方式，res即为：{data: [], count: 99} data为当前页数据、count为数据总长度\n");
      out.write("                    //console.log(res);\n");
      out.write("                    //得到当前页码\n");
      out.write("                    //console.log(curr);\n");
      out.write("                    $(\"#curPageIndex\").val(curr);\n");
      out.write("                    //得到数据总量\n");
      out.write("                    //console.log(count);\n");
      out.write("                }\n");
      out.write("            });\n");
      out.write("\n");
      out.write("            //#region --------------搜索----------------\n");
      out.write("            $(\"#search\").click(function ()\n");
      out.write("            {\n");
      out.write("            \tvar keyword=$(\"#orderIdKeyword\").val();\n");
      out.write("            \tvar start=$(\"#startDate\").val();\n");
      out.write("            \tvar end=$(\"#endDate\").val();\n");
      out.write("            \tvar state=$(\"#orderState\").val();\n");
      out.write("                tableIns.reload({\n");
      out.write("                    where: {\n");
      out.write("                    \torderIdKeyword: keyword,\n");
      out.write("                    \tstartDate:start,\n");
      out.write("                    \tendDate:end,\n");
      out.write("                    \torderState:state\n");
      out.write("                    },page: {\n");
      out.write("                    curr: 1 //重新从第 1 页开始\n");
      out.write("                  }\n");
      out.write("                });\n");
      out.write("            });\n");
      out.write("            //#endregion\n");
      out.write("\n");
      out.write("            //工具条事件监听\n");
      out.write("            table.on('tool(orders)', function (obj)\n");
      out.write("            { //注：tool是工具条事件名，test是table原始容器的属性 lay-filter=\"对应的值\"\n");
      out.write("                var data = obj.data; //获得当前行数据\n");
      out.write("                var layEvent = obj.event; //获得 lay-event 对应的值\n");
      out.write("                var tr = obj.tr; //获得当前行 tr 的DOM对象\r\n");
      out.write("\t\t\t\tvar status =data.status;\r\n");
      out.write("                if (layEvent === 'edit')\n");
      out.write("                { //编辑\n");
      out.write("                    layer.open({\n");
      out.write("                        type: 1,\n");
      out.write("                        title: '修改收货人信息',\n");
      out.write("                        shade: 0.4,  //阴影度\n");
      out.write("                        fix: false,\n");
      out.write("                        shadeClose: true,\n");
      out.write("                        maxmin: false,\n");
      out.write("                        area: ['800px;', '380px;'],    //窗体大小（宽,高）\n");
      out.write("                        content: $('#formData'),\n");
      out.write("                        success: function (layero, index)\n");
      out.write("                        {\n");
      out.write("                            var body = layer.getChildFrame('body', index); //得到子页面层的BODY\n");
      out.write("                            $(\"#orderId\").val(data.orderId);\n");
      out.write("                            $(\"#payment\").val(data.payment/100);\r\n");
      out.write("\t\t\t\t\t\t\t$(\"#orderAddress\").val(data.orderShipping.receiverAddress);\r\n");
      out.write("\t\t\t\t\t\t\t$(\"#receiverDistrict\").val(data.orderShipping.receiverDistrict)\r\n");
      out.write("\t\t\t\t\t\t\t$(\"#receiverState\").val(data.orderShipping.receiverState);\r\n");
      out.write("\t\t\t\t\t\t\t$(\"#receiverCity\").val(data.orderShipping.receiverCity);\n");
      out.write("                            $(\"#receiverName\").val(data.orderShipping.receiverName);\n");
      out.write("                            $(\"#receiverPhone\").val(data.orderShipping.receiverMobile);\n");
      out.write("                            form.render();\n");
      out.write("                            body.find('#hidValue').val(index); //将本层的窗口索引传给子页面层的hidValue中\n");
      out.write("                        },\n");
      out.write("                        btn:['修改','取消'],\n");
      out.write("                        yes: function(index, layero){\r\n");
      out.write("                        \t$.post('http://'+OrderIp()+':8894/order/updateAddressOrder',$('#orderForm').serialize(),function(data){\n");
      out.write("                                if (data.status == 200)\n");
      out.write("                                {\n");
      out.write("                                    parent.layer.msg('修改成功', { icon: 1, shade: 0.4, time: 1000 });\n");
      out.write("                                    $(\"#search\").click();\n");
      out.write("                                    $(\"#handle_status\").val('');\r\n");
      out.write("\t\t\t\t\t\t\t\t\twindow.location.reload();\n");
      out.write("                                }\n");
      out.write("                                else\n");
      out.write("                                {\n");
      out.write("                                    parent.layer.msg('修改失败', { icon: 5, shade: 0.4, time: 1000 });\n");
      out.write("                                }\n");
      out.write("                                layer.close(index);\n");
      out.write("                        \t}); \n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                }else if(layEvent=='show'){\r\n");
      out.write("\t\t\t\t\tvar str=\"\";\r\n");
      out.write("\t\t\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\t\t\t\turl : \"http://\"+OrderIp()+\":8894/order/getOrderByOrderId\",\r\n");
      out.write("\t\t\t\t\t\tasync: false,\r\n");
      out.write("\t\t\t\t\t\tdata:\"orderId=\"+data.orderId,\r\n");
      out.write("\t\t\t\t\t\tdataType : \"json\",\r\n");
      out.write("\t\t\t\t\t\tsuccess : function(resp) {\r\n");
      out.write("\t\t\t\t\t\t\t\tstr = str+ \"<div class='layui-collapse ' lay-accordion=''>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\tvar date=new Date(data.createTime).toLocaleString();\r\n");
      out.write("\t\t\t\t\t\t\t\t\tvar data1 = resp.data;\r\n");
      out.write("\t\t\t\t\t\t\t\t\tconsole.log(data1)\r\n");
      out.write("\t\t\t\t\t\t\t\t\tstr = str\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+ \"<div class='layui-colla-item '>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+ \"<h2 class='layui-colla-title'>订单编号：\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+  data1.orderId\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+ \"&nbsp;&nbsp;总价：\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+  data1.payment/100\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+ \"元&nbsp;订单日期：\"+date+\"</h2>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+ \"<div class='layui-colla-content layui-show ' ><h4>收货人：\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+ data1.orderShipping.receiverName\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+ \"&nbsp;&nbsp;收货地址：\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+ data1.orderShipping.receiverState+'/'+data1.orderShipping.receiverCity+'/'+data1.orderShipping.receiverDistrict+'/'+data1.orderShipping.receiverAddress\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+ \"&nbsp;电话：\"+data1.orderShipping.receiverMobile+\"</h4>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+ \"<div class='layui-form '><table class='layui-table'><thead ><tr><th style='width:400px;'>商品名称</th><th style='width:50px;'>价格</th><th style='width:50px;'>数量</th><th style='width:60px;'>小计</th><th style='width:70px;'>状态</th></tr>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+ \"</thead><tbody>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\tvar arr = data1.orderItems;\r\n");
      out.write("\t\t\t\t\t\t\t\t\tfunction acc(item) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\tif (item.status==0) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\treturn \"<p style='color:#5FB878; font-size:15px;'>正常交易</p>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t}else if(item.status==1){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\treturn \"<p style='color:#FF5722; font-size:15px;'>正在退款</p>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t}else if(item.status==2) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\treturn \"<p style='color:#01AAED; font-size:15px;'>退款成功</p>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\treturn \"<p style='color:#01AAED; font-size:15px;'>未定义</p>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\tfunction add(ac) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\treturn \"<p style='color:#FF5722; font-size:15px;'>\"+ac.title+\"<p>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\tfunction abb (ab) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\treturn \"<p style='color:#01AAED; font-size:14px;'>\"+ab.price/100+\"元\"+\"<p>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\tfunction aee (ae) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\treturn \"<p style='color:#2F4056; font-size:15px;'>\"+ae.num+\"台\"+\"<p>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\tfunction agg (ag) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\treturn \"<p style='color:#FFB800; font-size:15px;'>\"+ag.price*ag.num/100+\"元\"+\"<p>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\tfor (var t = 0; t < arr.length; t++) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\tstr = str\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t+ \"<tr><td><a href='\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t+ \"javascript:;\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t+ \"'>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t+ add(arr[t])\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t+ \"</a></td>\" + \"<td>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t+ abb(arr[t])\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t+ \"</td><td>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t+ aee(arr[t])\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t+ \"</td><td>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t+ agg(arr[t])\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t+  \"</td><td>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t+ acc(arr[t])+\"</td>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t+ \"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\tstr = str\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+ \"</tbody></table></div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+ \"</div></div>\";\r\n");
      out.write("\t\t\t\t\t\t\t\tstr = str + \"</div>\";\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\tlayer.open({\r\n");
      out.write("\t\t\t\t\t    type: 1,\r\n");
      out.write("\t\t\t\t\t    title: '查看订单详情',\r\n");
      out.write("\t\t\t\t\t    shade: 0.4,  //阴影度\r\n");
      out.write("\t\t\t\t\t    fix: false,\r\n");
      out.write("\t\t\t\t\t    shadeClose: true,\r\n");
      out.write("\t\t\t\t\t    maxmin: false,\r\n");
      out.write("\t\t\t\t\t    area: ['900px;', '380px;'],    //窗体大小（宽,高）\r\n");
      out.write("\t\t\t\t\t    content: str,\r\n");
      out.write("\t\t\t\t\t    success: function (layero, index)\r\n");
      out.write("\t\t\t\t\t    {\r\n");
      out.write("\t\t\t\t\t        var body = layer.getChildFrame('body', index); //得到子页面层的BODY\r\n");
      out.write("\t\t\t\t\t        element.render();\r\n");
      out.write("\t\t\t\t\t        body.find('#hidValue').val(index); //将本层的窗口索引传给子页面层的hidValue中\r\n");
      out.write("\t\t\t\t\t    },\r\n");
      out.write("\t\t\t\t\t    btn:['关闭页面'],\r\n");
      out.write("\t\t\t\t\t    yes: function(index, layero){\r\n");
      out.write("\t\t\t\t\t         layer.close(index);\r\n");
      out.write("\t\t\t\t\t    }\r\n");
      out.write("\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t}else if(layEvent === 'delete'){\r\n");
      out.write("\t\t\t\t\tif(status==1||status==6||status==8){\r\n");
      out.write("\t\t\t\t\t\tlayer.confirm('是否删除该订单？', {\r\n");
      out.write("\t\t\t\t\t\t\t  btn: ['确认', '取消'] //可以无限个按钮\r\n");
      out.write("\t\t\t\t\t\t\t  ,btn1: function(index, layero){\r\n");
      out.write("\t\t\t\t\t\t\t\t  $.ajax({\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   type: \"POST\",\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   url: \"http://\"+OrderIp()+\":8894/order/deleteOrder\",\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   data: \"orderId=\"+data.orderId,\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   success: function(msg){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t     if(msg.status==200){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t    \t parent.layer.msg('删除成功', { icon: 1, shade: 0.4, time: 1000 });\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t $(\"#search\").click();\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t $(\"#handle_status\").val('');\r\n");
      out.write("\t\t\t\t\t\t\t\t\t     }else{\r\n");
      out.write("\t\t\t\t\t\t\t\t\t    \t parent.layer.msg('订单正在交易中删除失败', { icon: 5, shade: 0.4, time: 1000 });\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t $(\"#search\").click();\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t $(\"#handle_status\").val('');\r\n");
      out.write("\t\t\t\t\t\t\t\t\t     }\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   }\r\n");
      out.write("\t\t\t\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t\t\t\t  $(tr).remove();\r\n");
      out.write("\t\t\t\t\t\t\t\t  layer.close(index);\r\n");
      out.write("\t\t\t\t\t\t\t  }\r\n");
      out.write("\t\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\tlayer.msg(\"该订单不允许删除\")\r\n");
      out.write("\t\t\t\t\t}\n");
      out.write("                }else if(layEvent ==='123'){\n");
      out.write("\t\t\t\t}\n");
      out.write("            });\n");
      out.write("        });\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\n");
      out.write("        function deliverOrder(id){\r\n");
      out.write("\t\t\tlayer.open({\r\n");
      out.write("\t\t\t    type: 1,\r\n");
      out.write("\t\t\t    title: '发货',\r\n");
      out.write("\t\t\t    shade: 0.4,  //阴影度\r\n");
      out.write("\t\t\t    fix: false,\r\n");
      out.write("\t\t\t    shadeClose: true,\r\n");
      out.write("\t\t\t    maxmin: false,\r\n");
      out.write("\t\t\t    area: ['600px;', '250px;'],    //窗体大小（宽,高）\r\n");
      out.write("\t\t\t    content: \"<div style='width:500px;padding-top:15px;'><div class='layui-form-item'><label class='layui-form-label'>订单编号</label>\"+\n");
      out.write("                \"<div class='layui-input-block'><input type='text' name='orderId' id='orderId' style='background-color:#F8F8F8;' \"+\n");
      out.write("                \" readonly='readonly' required lay-verify='required' value='\"+id+\"' class='layui-input' /></div></div>\"+\n");
      out.write("                \"<div class='layui-form-item'><label class='layui-form-label'>快递单号</label><div class='layui-input-block'><input type='text' \"+\n");
      out.write("                \" id='shippingCode' required lay-verify='required' class='layui-input' /></div></div></div>\",\r\n");
      out.write("\t\t\t    success: function (layero, index)\r\n");
      out.write("\t\t\t    {\r\n");
      out.write("\t\t\t        var body = layer.getChildFrame('body', index); //得到子页面层的BODY\r\n");
      out.write("\t\t\t        body.find('#hidValue').val(index); //将本层的窗口索引传给子页面层的hidValue中\r\n");
      out.write("\t\t\t    },\r\n");
      out.write("\t\t\t    btn:['发货','取消'],\r\n");
      out.write("\t\t\t    yes: function(index, layero){\r\n");
      out.write("\t\t\t    \tvar abc =$(\"#shippingCode\").val();\r\n");
      out.write("\t\t\t    \t$.post('oreder/orderDeliver',{orderId:id,shippingCode:abc,shippingName:'顺丰快递'},function(msg){\r\n");
      out.write("\t\t\t            if (msg.status == 200)\r\n");
      out.write("\t\t\t            {\r\n");
      out.write("\t\t\t                parent.layer.msg('发货成功', { icon: 1, shade: 0.4, time: 1000 });\r\n");
      out.write("\t\t\t                $(\"#search\").click();\r\n");
      out.write("\t\t\t                $(\"#handle_status\").val('');\r\n");
      out.write("\t\t\t\t\t\t\twindow.location.reload();\r\n");
      out.write("\t\t\t            }\r\n");
      out.write("\t\t\t            else\r\n");
      out.write("\t\t\t            {\r\n");
      out.write("\t\t\t                parent.layer.msg('发货失败', { icon: 5, shade: 0.4, time: 1000 });\r\n");
      out.write("\t\t\t            }\r\n");
      out.write("\t\t\t            layer.close(index);\r\n");
      out.write("\t\t\t    \t}); \r\n");
      out.write("\t\t\t    }\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\t\n");
      out.write("        } \r\n");
      out.write("\t\tconsole.log([\r\n");
      out.write("\t\t    \"                   _ooOoo_\",\r\n");
      out.write("\t\t    \"                  o8888888o\",\r\n");
      out.write("\t\t    \"                  88\\\" . \\\"88\",\r\n");
      out.write("\t\t    \"                  (| -_- |)\",\r\n");
      out.write("\t\t    \"                  O\\\\  =  /O\",\r\n");
      out.write("\t\t    \"               ____/`---'\\\\____\",\r\n");
      out.write("\t\t    \"             .'  \\\\\\\\|     |//  `.\",\r\n");
      out.write("\t\t    \"            /  \\\\\\\\|||  :  |||//  \\\\\",\r\n");
      out.write("\t\t    \"           /  _||||| -:- |||||-  \\\\\",\r\n");
      out.write("\t\t    \"           |   | \\\\\\\\\\\\  -  /// |   |\",\r\n");
      out.write("\t\t    \"           | \\\\_|  ''\\\\---/''  |   |\",\r\n");
      out.write("\t\t    \"           \\\\  .-\\\\__  `-`  ___/-. /\",\r\n");
      out.write("\t\t    \"         ___`. .'  /--.--\\\\  `. . __\",\r\n");
      out.write("\t\t    \"      .\\\"\\\" '<  `.___\\\\_<|>_/___.'  >'\\\"\\\".\",\r\n");
      out.write("\t\t    \"     | | :  `- \\\\`.;`\\\\ _ /`;.`/ - ` : | |\",\r\n");
      out.write("\t\t    \"     \\\\  \\\\ `-.   \\\\_ __\\\\ /__ _/   .-` /  /\",\r\n");
      out.write("\t\t    \"======`-.____`-.___\\\\_____/___.-`____.-'======\",\r\n");
      out.write("\t\t    \"                   `=---='\",\r\n");
      out.write("\t\t    \"^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\",\r\n");
      out.write("\t\t    \"        佛祖保佑       永不宕机      永无BUG\"\r\n");
      out.write("\t\t].join('\\n'));\n");
      out.write("    </script>\n");
      out.write("</body>\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
